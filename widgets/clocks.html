<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>World Clocks</title>

<style>
body {
  margin: 0;
  padding: 16px;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
  background: #ffffff;
  color: #111;
}

.clock {
  min-width: 180px;
  padding: 14px;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
}

.time {
  font-size: 22px;
  font-weight: 600;
}

.label {
  font-size: 14px;
  opacity: 0.7;
  margin-top: 4px;
}

.date {
  font-size: 12px;
  opacity: 0.6;
  margin-top: 6px;
}
</style>
</head>

<body>

<div class="clock">
  <div class="time" id="la"></div>
  <div class="label">Pacific — Sebastopol</div>
  <div class="date" id="la-date"></div>
</div>

<div class="clock">
  <div class="time" id="ny"></div>
  <div class="label">Eastern — New York</div>
  <div class="date" id="ny-date"></div>
</div>

<div class="clock">
  <div class="time" id="lon"></div>
  <div class="label">London</div>
  <div class="date" id="lon-date"></div>
</div>

<div class="clock">
  <div class="time" id="del"></div>
  <div class="label">Delhi</div>
  <div class="date" id="del-date"></div>
</div>

<div class="clock">
  <div class="time" id="sin"></div>
  <div class="label">Singapore</div>
  <div class="date" id="sin-date"></div>
</div>

<div class="clock">
  <div class="time" id="mel"></div>
  <div class="label">Melbourne</div>
  <div class="date" id="mel-date"></div>
</div>

<script>

// =============================
// CONFIG FROM URL
// =============================

const params = new URLSearchParams(window.location.search);

const formatParam = params.get("format");
const showSeconds = params.get("seconds") === "true";
const theme = params.get("theme") || "light";

const hour12 = formatParam !== "24";

// =============================
// THEME HANDLING
// =============================

if (theme === "dark") {
  document.body.style.background = "#111";
  document.body.style.color = "#ffffff";

  document.querySelectorAll(".clock").forEach(c => {
    c.style.borderColor = "#333";
  });
}

// =============================
// TIME FORMATTERS
// =============================

function formatTime(zone) {
  return new Intl.DateTimeFormat("en-US", {
    timeZone: zone,
    hour: "2-digit",
    minute: "2-digit",
    ...(showSeconds && { second: "2-digit" }),
    hour12: hour12
  }).format(new Date());
}

function formatDate(zone) {
  return new Intl.DateTimeFormat("en-US", {
    timeZone: zone,
    weekday: "short",
    month: "short",
    day: "2-digit",
    year: "numeric"
  }).format(new Date());
}

// =============================
// UPDATE LOOP
// =============================

const zones = [
  { id: "la", zone: "America/Los_Angeles" },
  { id: "ny", zone: "America/New_York" },
  { id: "lon", zone: "Europe/London" },
  { id: "del", zone: "Asia/Kolkata" },
  { id: "sin", zone: "Asia/Singapore" },
  { id: "mel", zone: "Australia/Melbourne" }
];

function update() {
  zones.forEach(z => {
    document.getElementById(z.id).textContent =
      formatTime(z.zone);

    document.getElementById(z.id + "-date").textContent =
      formatDate(z.zone);
  });
}

update();
setInterval(update, showSeconds ? 1000 : 60000);

</script>

</body>
</html>